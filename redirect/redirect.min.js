(()=>{$(document).ready(()=>{let n=location.pathname,e={us:{title:"USA",root:"/"},ca:{title:"Canada",root:"/ca"},es:{title:"Spain",root:"/es"},ru:{title:"Russia",root:"/ru"}},u=Object.keys(e),c=o=>{sessionStorage.setItem("OVERRIDE_REGION",o)},g=()=>sessionStorage.getItem("OVERRIDE_REGION"),d=()=>{switch(!0){case n.includes(e.ca.root):return"ca";case n.includes(e.es.root):return"es";case n.includes(e.ru.root):return"ru";default:return"us"}},f=o=>{location.replace(`${location.origin}${e[o].root}`)},r=d(),R=g(),a=$('[data-replace-key="detectedRegion"]'),_=()=>{let o=a.text();if(u.includes(o)){let s=$("#regionNotification_root"),l=$("#regionNotification_country"),m=$("#regionNotification_form"),p=$("#regionNotification_close"),v=()=>{s.removeClass("regionNotification_root_visible"),c(r)},O=i=>{i.preventDefault();let t=l.val();s.removeClass("regionNotification_root_visible"),typeof t=="string"&&t!==r&&(c(t),f(t))};p.on("pointerup",v),m.on("submit",O),!(o===r)&&!R&&s.addClass("regionNotification_root_visible"),l.html(Object.entries(e).reduce((i,[t,y])=>(i+=`<option value="${t}" ${o===t?'selected="true"':""}>${y.title}</option>`,i),""))}};a.on("DOMSubtreeModified",_)});})();
