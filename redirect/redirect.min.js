(()=>{$(document).ready(()=>{let n=location.pathname,e={us:{title:"USA",root:"/"},ca:{title:"Canada",root:"/ca"},es:{title:"Spain",root:"/es"},ru:{title:"Russia",root:"/ru"}},u=Object.keys(e),c=o=>{sessionStorage.setItem("OVERRIDE_REGION",o)},g=()=>sessionStorage.getItem("OVERRIDE_REGION"),d=()=>{switch(!0){case n.includes(e.ca.root):return"ca";case n.includes(e.es.root):return"es";case n.includes(e.ru.root):return"ru";default:return"us"}},_=o=>{location.replace(`${location.origin}${e[o].root}`)},r=d(),f=g(),a=$('[data-replace-key="detectedRegion"]'),R=()=>{let o=a.text();if(u.includes(o)){let s=$("#regionNotification__root"),l=$("#regionNotification__country"),m=$("#regionNotification__form"),p=$("#regionNotification__close"),v=()=>{s.removeClass("regionNotification__root__visible"),c(r)},O=i=>{i.preventDefault();let t=l.val();s.removeClass("regionNotification__root__visible"),typeof t=="string"&&t!==r&&(c(t),_(t))};p.on("pointerup",v),m.on("submit",O),!(o===r)&&!f&&s.addClass("regionNotification__root__visible"),l.html(Object.entries(e).reduce((i,[t,y])=>(i+=`<option value="${t}" ${o===t?'selected="true"':""}>${y.title}</option>`,i),""))}};a.on("DOMSubtreeModified",R)});})();
