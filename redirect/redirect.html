<span data-replace-key="detectedRegion"></span>

<style>
  [data-replace-key="detectedRegion"] {
    display: none;
  }
</style>

<script>
  (()=>{var n=location.pathname,o={us:{title:"USA",root:"/"},ca:{title:"Canada",root:"/ca"},es:{title:"Spain",root:"/es"},ru:{title:"Russia",root:"/ru"}},c=Object.keys(o),i=e=>{sessionStorage.setItem("OVERRIDE_REGION",e)},a=()=>sessionStorage.getItem("OVERRIDE_REGION"),d=()=>{switch(!0){case n.includes(o.ca.root):return"ca";case n.includes(o.es.root):return"es";case n.includes(o.ru.root):return"ru";default:return"us"}},l=e=>{location.replace(`${location.origin}${o[e].root}`)},g=()=>{let e=$('[data-replace-key="detectedRegion"]'),r=d(),s=a(),t=e.text();console.log("Region Detected"),console.log("By URL",r),console.log("By Override",s),console.log("By detected",t),c.includes(t)&&(s||(i(t),t!=r&&l(t)))};$(document).ready(()=>{$('[data-replace-key="detectedRegion"]').on("DOMSubtreeModified",g)});})();
</script>
